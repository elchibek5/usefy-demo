<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Registration</title>
</head>
<body>

<h1>User Registration</h1>

<!-- Success message -->
<div th:if="${success}" style="color: green;">
    <p th:text="${success}"></p>
</div>

<!-- Global error (e.g. "username already exists") -->
<div th:if="${error}" style="color: red;">
    <p th:text="${error}"></p>
</div>

<form th:action="@{/register}" method="post" th:object="${user}">
    <div>
        <label>Username:</label>
        <input type="text" th:field="*{username}"/>
        <p th:if="${#fields.hasErrors('username')}"
           th:errors="*{username}"
           style="color: red;"></p>
        <!-- Field-specific error -->
    </div>

    <div>
        <label>Password:</label>
        <input type="password" th:field="*{password}"/>
        <!-- Field-specific error -->
        <p th:if="${#fields.hasErrors('password')}"
           th:errors="*{password}"
           style="color: red;"></p>
    </div>

    <button type="submit">Register</button>
</form>

</body>
</html>
